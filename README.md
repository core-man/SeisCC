
# [Correlation](https://en.wikipedia.org/wiki/Correlation_and_dependence)

## methods

- time domain correlation
    - [cc_time](src/cc_time.c)

- frequncy domain correlation
    - [cc_freq](src/cc_freq.c): use [FFTW](http://www.fftw.org/) to do cross-correlation.
    - [correlatec](src/correlatec.c): [SAC's libsac](https://seisman.github.io/SAC_Docs_zh/libs/libsac/#crscor): call SAC's `crscor` to do cross-correlation.
    - [sac_wfcc](sac_wfcc/): this is [Lupei Zhu's code](http://geophysics.eas.gatech.edu/people/zpeng/Teaching/SAC_Tutorial/#part3_1)
    - PCC2: this is [Martin Schimmel's code](http://diapiro.ictja.csic.es/gt/mschi/SCIENCE/pcc2_method.py)
    - ObsPy: [corss_correlation](https://docs.obspy.org/packages/autogen/obspy.signal.cross_correlation.html#module-obspy.signal.cross_correlation)
    - [SAC's correlate](examples/SAC-correlate.sh)


## notes

When we do correlation, some pre-processing may have been done, e.g., `rmean`, `rtrend`, `taper`. Otherwises, results from different methods maybe different. Some methods may just use the RAW data, e.g., `cc-time`, while some method may do some processing in the running, e.g. `taper`. For example, we use SAC's correlate to calcualte cross-correlation between seis and its shifted one generated by SAC's `fg seis`, cross-corelation coeffient at zero time is a little different the time-domain method.

Be careful about reference time between different codes !!! Usually, we use the tmark as the reference time. But some code may add additional shift for some purpose, e.g., `sac_wfcc` adds tmark to the time shift.

